<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>COS_Renesas: cos_data_fifo.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COS_Renesas
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cos_data_fifo.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Daten-FIFO fuer COS auf Atmel. Der FIFO benutzt dynamische Speicherverwaltung (malloc()). Es kann nur ein Sorte Daten gespeichert werden. Die maximale Anzahl von Speicherplaetzen (Slots) ist 255 wegen der Verwendung von 1 Byte Indexvariablen. Ein Slot kann maximal 256 Byte Speichern.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cos__semaphore_8h_source.html">cos_semaphore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cos__types_8h_source.html">cos_types.h</a>&quot;</code><br />
</div>
<p><a href="cos__data__fifo_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a070d2ce7b6bb7e5c05602aa8c308d0c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>&#160;&#160;&#160;0  /* the null pointer value */</td></tr>
<tr class="separator:a070d2ce7b6bb7e5c05602aa8c308d0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cfa495c0d21b7e85cf19665f96340c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a6cfa495c0d21b7e85cf19665f96340c7">COS_FifoBlockingWriteSingleSlot</a>(pt,  q,  data)</td></tr>
<tr class="separator:a6cfa495c0d21b7e85cf19665f96340c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d4104366cdba06f2909bab3ba9a05e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a05d4104366cdba06f2909bab3ba9a05e">COS_FifoBlockingReadSingleSlot</a>(pt,  q,  data)  </td></tr>
<tr class="separator:a05d4104366cdba06f2909bab3ba9a05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0a099caaecaab9a1fdb239e9392e6b24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a0a099caaecaab9a1fdb239e9392e6b24">COS_FifoCreate</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q, <a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a> slotSize, <a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a> nSlots)</td></tr>
<tr class="separator:a0a099caaecaab9a1fdb239e9392e6b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe1d8b3c7c3cdf20670cffa998ad4a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a0fe1d8b3c7c3cdf20670cffa998ad4a2">COS_FifoDestroy</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q)</td></tr>
<tr class="separator:a0fe1d8b3c7c3cdf20670cffa998ad4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5969aabeddbc265e28d3eb7437190b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#ad5969aabeddbc265e28d3eb7437190b8">COS_FifoIsEmpty</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q)</td></tr>
<tr class="separator:ad5969aabeddbc265e28d3eb7437190b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d1294243fbdfd93019a347b4eda8f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a32d1294243fbdfd93019a347b4eda8f2">COS_FifoIsFull</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q)</td></tr>
<tr class="separator:a32d1294243fbdfd93019a347b4eda8f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995fcdef4922f7d0a7b6545d215f5039"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a995fcdef4922f7d0a7b6545d215f5039">COS_FifoGetUsedSlots</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q)</td></tr>
<tr class="separator:a995fcdef4922f7d0a7b6545d215f5039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bdb1be399c72e285605eecdbb65b80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a65bdb1be399c72e285605eecdbb65b80">COS_FifoGetMaxSlots</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q)</td></tr>
<tr class="separator:a65bdb1be399c72e285605eecdbb65b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b76e557cbe5a2b1df5b9f1d713c31fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a5b76e557cbe5a2b1df5b9f1d713c31fd">COS_FifoGetSlotSize</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q)</td></tr>
<tr class="separator:a5b76e557cbe5a2b1df5b9f1d713c31fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c1e01c13a6eab9cf7a640c31166fe8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a36c1e01c13a6eab9cf7a640c31166fe8">_qWriteSingleSlot</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q, const char *data)</td></tr>
<tr class="separator:a36c1e01c13a6eab9cf7a640c31166fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516da0f2d01835e30651346ccb661679"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__data__fifo_8h.html#a516da0f2d01835e30651346ccb661679">_qReadSingleSlot</a> (<a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *q, char *data)</td></tr>
<tr class="separator:a516da0f2d01835e30651346ccb661679"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Daten-FIFO fuer COS auf Atmel. Der FIFO benutzt dynamische Speicherverwaltung (malloc()). Es kann nur ein Sorte Daten gespeichert werden. Die maximale Anzahl von Speicherplaetzen (Slots) ist 255 wegen der Verwendung von 1 Byte Indexvariablen. Ein Slot kann maximal 256 Byte Speichern. </p>
<dl class="section user"><dt>Project : co-operative scheduler (COS) renesea uC</dt><dd></dd></dl>
<dl class="section user"><dt>Module : FIFO Mailbox fuer COS Scheduler</dt><dd></dd></dl>
<dl class="section user"><dt>Author : Fgb</dt><dd></dd></dl>
<dl class="section user"><dt>Department: E14</dt><dd></dd></dl>
<dl class="section user"><dt>Company : Fachhochschule Hannover - University of Applied</dt><dd>Sciences and Arts</dd></dl>
<dl class="section user"><dt>History :</dt><dd><pre class="fragment">Version | Date        | Author        | Change Description
0.0     | 07.09. 2011 | Fgb           | First Version, Linux
0.1     | 17.09. 2013 | Fgb           | nur noch Atmel, deutsche Doku
0.2     | 08.10. 2015 | Fgb           | Umbau auf renesas controller</pre> </dd></dl>

<p>Definition in file <a class="el" href="cos__data__fifo_8h_source.html">cos_data_fifo.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a05d4104366cdba06f2909bab3ba9a05e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COS_FifoBlockingReadSingleSlot</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">q, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="cos__semaphore_8h.html#a60300e4cadbdf3e9420a4f2b828833da">COS_SEM_WAIT</a>(&amp;((q)-&gt;rSema),(pt)); \</div>
<div class="line">                                                       _qReadSingleSlot((q), (<span class="keywordtype">char</span> *)(data))</div>
<div class="ttc" id="cos__semaphore_8h_html_a60300e4cadbdf3e9420a4f2b828833da"><div class="ttname"><a href="cos__semaphore_8h.html#a60300e4cadbdf3e9420a4f2b828833da">COS_SEM_WAIT</a></div><div class="ttdeci">#define COS_SEM_WAIT(s, pt)</div><div class="ttdef"><b>Definition:</b> <a href="cos__semaphore_8h_source.html#l00155">cos_semaphore.h:155</a></div></div>
</div><!-- fragment --><dl class="section user"><dt>Beschreibung:</dt><dd>Dieses Macro versucht einen Slot Daten aus dem FIFO zu lesen. Die Anzahl der zu schreibenden Bytes ist 'slotSize', wie in der Funktion <a class="el" href="cos__data__fifo_8h.html#a0a099caaecaab9a1fdb239e9392e6b24">COS_FifoCreate()</a> angegeben. Falls das FIFO leer ist, schaltet das Macro die Task *pt in den Zustand TASK_STATE_BLOCKED. Eine andere Task, die in das FIFO schreibt, loest die Blockade wieder.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8h.html#a6cfa495c0d21b7e85cf19665f96340c7">COS_FifoBlockingWriteSingleSlot()</a>, <a class="el" href="cos__data__fifo_8h.html#a516da0f2d01835e30651346ccb661679">_qReadSingleSlot()</a></li>
</ul>
</dd></dl>
<dl class="section user"><dt>Macro Parameter: (CosTask_t *pt, CosFifo_t *q, char *data)</dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pt</td><td>- IN/OUT, Zeiger auf Task struct </td></tr>
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf Queue struct </td></tr>
    <tr><td class="paramname">daCOS_FifoBlockingWriteSingleSlotta</td><td>- IN/OUT, Zeiger auf Datenquelle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example :</dt><dd>Siehe bei <a class="el" href="cos__data__fifo_8h.html#a6cfa495c0d21b7e85cf19665f96340c7">COS_FifoBlockingWriteSingleSlot()</a> <pre class="fragment"></pre> </dd></dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8h_source.html#l00197">197</a> of file <a class="el" href="cos__data__fifo_8h_source.html">cos_data_fifo.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6cfa495c0d21b7e85cf19665f96340c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COS_FifoBlockingWriteSingleSlot</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">q, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="cos__semaphore_8h.html#a60300e4cadbdf3e9420a4f2b828833da">COS_SEM_WAIT</a>(&amp;((q)-&gt;wSema),(pt)); \</div>
<div class="line">                                                       _qWriteSingleSlot((q), (<span class="keywordtype">char</span> *)(data))</div>
<div class="ttc" id="cos__semaphore_8h_html_a60300e4cadbdf3e9420a4f2b828833da"><div class="ttname"><a href="cos__semaphore_8h.html#a60300e4cadbdf3e9420a4f2b828833da">COS_SEM_WAIT</a></div><div class="ttdeci">#define COS_SEM_WAIT(s, pt)</div><div class="ttdef"><b>Definition:</b> <a href="cos__semaphore_8h_source.html#l00155">cos_semaphore.h:155</a></div></div>
</div><!-- fragment --><dl class="section user"><dt>Beschreibung:</dt><dd>Dieses Macro versucht einen Slot des FIFO mit Daten zu fuellen. Die Anzahl der zu schreibenden Bytes ist 'slotSize', wie in der Funktion <a class="el" href="cos__data__fifo_8h.html#a0a099caaecaab9a1fdb239e9392e6b24">COS_FifoCreate()</a> angegeben. Falls kein freier Slot verfuegbar ist, schaltet das Macro die Task pt in den Zustand TASK_STATE_BLOCKED. Eine andere Task, die einen Slot aus dem FIFO liest, wird die Blockierung wieder aufheben.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8h.html#a05d4104366cdba06f2909bab3ba9a05e">COS_FifoBlockingReadSingleSlot()</a>, <a class="el" href="cos__data__fifo_8h.html#a36c1e01c13a6eab9cf7a640c31166fe8">_qWriteSingleSlot()</a></li>
</ul>
</dd></dl>
<dl class="section user"><dt>Macro Parameter: (CosTask_t *pt, CosFifo_t *q, char *data)</dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pt</td><td>- IN/OUT, Zeiger auf Task struct </td></tr>
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf Queue struct </td></tr>
    <tr><td class="paramname">data</td><td>- IN, Zeiger auf Datenquelle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example :</dt><dd>A global FIFO with 5 slots for float variables and a second queue with 2 slots for int arrays with 5 elements each may be created, used and destroyed like this: <pre class="fragment">CosFifo_t q01, q02;
CosTask_t *p_Task_A, *p_Task_B;

void Task_A(CosTask_t *pt)
{   static float x,y;
    static int8_t a[5];

    COS_TASK_BEGIN(pt);
    ...
    COS_FifoBlockingWriteSingleSlot(pt, &amp;q01,&amp;x);
    COS_FifoBlockingWriteSingleSlot(pt, &amp;q01,&amp;y);
    COS_FifoBlockingWriteSingleSlot(pt, &amp;q02, a);
    ...
    COS_TASK_END(pt);
}

void Task_B(CosTask_t *pt)
{   static float  z[2];
    static int8_t b[5];

    COS_TASK_BEGIN(pt);
    ...
    COS_FifoBlockingReadSingleSlot(pt, &amp;q02, b);
    COS_FifoBlockingReadSingleSlot(pt, &amp;q01,&amp;z[0]);
    COS_FifoBlockingReadSingleSlot(pt, &amp;q01,&amp;z[1]);
    ...
    COS_TASK_END(pt);
}

int main(void)
{ ...
  COS_InitTaskList();
  p_Task_A = COS_CreateTask(5, NULL, Task_A);
  p_Task_B = COS_CreateTask(7, NULL, Task_B);
  ...
  if(0!= COS_FifoCreate(&amp;q01, sizeof(float),5))
    serPuts("error creating queue");
  if(0!= COS_FifoCreate(&amp;q02, 5*sizeof(int8_t),2))
    serPuts("error creating queue");
  ...
  COS_RunScheduler();
  while(1);    // this should not be reached...
  return 0;
}</pre> </dd></dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8h_source.html#l00168">168</a> of file <a class="el" href="cos__data__fifo_8h_source.html">cos_data_fifo.h</a>.</p>

</div>
</div>
<a class="anchor" id="a070d2ce7b6bb7e5c05602aa8c308d0c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NULL&#160;&#160;&#160;0  /* the null pointer value */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="cos__data__fifo_8h_source.html#l00062">62</a> of file <a class="el" href="cos__data__fifo_8h_source.html">cos_data_fifo.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a516da0f2d01835e30651346ccb661679"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a> _qReadSingleSlot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion liest einen Slot aus dem FIFO. Die Anzahl der zu lesenden Bytes ist 'slotSize', wie in der Funktion <a class="el" href="cos__data__fifo_8c.html#a0a099caaecaab9a1fdb239e9392e6b24">COS_FifoCreate()</a> angegeben. Sie wird vom Macro <a class="el" href="cos__data__fifo_8h.html#a05d4104366cdba06f2909bab3ba9a05e">COS_FifoBlockingReadSingleSlot()</a> verwendet, im Anwenderprogramm SOLLTE SIE NUR UEBER DIESES MACRO genutzt werden. Falls das FIFO leer ist, wird nichts gelesen.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8c.html#a36c1e01c13a6eab9cf7a640c31166fe8">_qWriteSingleSlot()</a>, <a class="el" href="cos__data__fifo_8h.html#a05d4104366cdba06f2909bab3ba9a05e">COS_FifoBlockingReadSingleSlot()</a></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur </td></tr>
    <tr><td class="paramname">data</td><td>- IN/OUT, Zeiger auf Daten</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Anzahl</td><td>der gelesenen Slots, 0 wenn FIFO leer </td></tr>
    <tr><td class="paramname">-1</td><td>- Fehler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00361">361</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a36c1e01c13a6eab9cf7a640c31166fe8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a> _qWriteSingleSlot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion kopiert einen Slot Daten ins FIFO. Die Anzahl der zu schreibenden Bytes ist 'slotSize', wie in der Funktion <a class="el" href="cos__data__fifo_8c.html#a0a099caaecaab9a1fdb239e9392e6b24">COS_FifoCreate()</a> angegeben. Sie wird vom Macro <a class="el" href="cos__data__fifo_8h.html#a6cfa495c0d21b7e85cf19665f96340c7">COS_FifoBlockingWriteSingleSlot()</a> verwendet, im Anwenderprogramm SOLLTE SIE NUR UEBER DIESES MACRO genutzt werden! Falls das FIFO voll ist, wird nichts geschrieben.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8c.html#a516da0f2d01835e30651346ccb661679">_qReadSingleSlot()</a>, <a class="el" href="cos__data__fifo_8h.html#a6cfa495c0d21b7e85cf19665f96340c7">COS_FifoBlockingWriteSingleSlot()</a></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur </td></tr>
    <tr><td class="paramname">data</td><td>- IN, Zeiger auf Daten</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Anzahl</td><td>der geschriebenen Slots, 0 falls FIFO voll </td></tr>
    <tr><td class="paramname">-1</td><td>- Fehler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00311">311</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0a099caaecaab9a1fdb239e9392e6b24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a> COS_FifoCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a>&#160;</td>
          <td class="paramname"><em>slotSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a>&#160;</td>
          <td class="paramname"><em>nSlots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion erzeugt ein FIFO fuer den Datentransfer zwischen Tasks. Das FIFO hat nSlots Daten-Slots, jeweils slotSize Byte gross.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8c.html#a0fe1d8b3c7c3cdf20670cffa998ad4a2">COS_FifoDestroy()</a></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur </td></tr>
    <tr><td class="paramname">slotSize</td><td>- IN, Groesse Daten-Slot (1..255) in Byte </td></tr>
    <tr><td class="paramname">nSlots</td><td>- IN, Anzahl Slots (1..255) im FIFO</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- kein Fehler </td></tr>
    <tr><td class="paramname">negative</td><td>- Fehler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Code-Beispiel :</dt><dd>A global FIFO with 5 slots for float variables and a second queue with 2 slots for int arrays with 5 elements each may be created and destroyed like this: <pre class="fragment">CosFifo_t q01, q02;

int main(void)
{
  ...
  if(0!= COS_FifoCreate(&amp;q01, sizeof(float),5))
    serPuts("error creating queue");
  if(0!= COS_FifoCreate(&amp;q02, 5*sizeof(int8_t),2))
    serPuts("error creating queue");
  ...
  COS_FifoDestroy(&amp;q01);
  COS_FifoDestroy(&amp;q02);
  ...
  return 0;
}</pre> </dd></dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00125">125</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0fe1d8b3c7c3cdf20670cffa998ad4a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a> COS_FifoDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion loescht ein FIFO und gibt den Speicher frei.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8c.html#a0a099caaecaab9a1fdb239e9392e6b24">COS_FifoCreate()</a></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO struct</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- kein Fehler </td></tr>
    <tr><td class="paramname">negative</td><td>- Fehler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Code-Beispiel :</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8c.html#a0a099caaecaab9a1fdb239e9392e6b24">COS_FifoCreate()</a></li>
</ul>
<pre class="fragment"></pre> </dd></dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00173">173</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a65bdb1be399c72e285605eecdbb65b80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a> COS_FifoGetMaxSlots </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion gibt die Anzahl der Slots des FIFO zurueck.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="cos__data__fifo_8c.html#a995fcdef4922f7d0a7b6545d215f5039">COS_FifoGetUsedSlots()</a>, <a class="el" href="cos__data__fifo_8c.html#a5b76e557cbe5a2b1df5b9f1d713c31fd">COS_FifoGetSlotSize()</a> <ul>
<li>-</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Anzahl</td><td>der Slots im FIFO </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00421">421</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5b76e557cbe5a2b1df5b9f1d713c31fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a> COS_FifoGetSlotSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion gibt die Groesse eines Slots des FIFO zurueck.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li>-</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Slot</td><td>Groesse in Byte </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00439">439</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a995fcdef4922f7d0a7b6545d215f5039"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#ab077fa1127453be2bd9d4c3c8a768fa7">uint8_t</a> COS_FifoGetUsedSlots </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion gibt die Anzahl der gefuellten Slots des FIFO zurueck.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="cos__data__fifo_8c.html#a65bdb1be399c72e285605eecdbb65b80">COS_FifoGetMaxSlots()</a>, <a class="el" href="cos__data__fifo_8c.html#a5b76e557cbe5a2b1df5b9f1d713c31fd">COS_FifoGetSlotSize()</a> <ul>
<li>-</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Anzahl</td><td>der belegten Slots </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00401">401</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad5969aabeddbc265e28d3eb7437190b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a> COS_FifoIsEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion ueberprueft, ob ein FIFO leer ist.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8c.html#a32d1294243fbdfd93019a347b4eda8f2">COS_FifoIsFull()</a></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- FIFO nicht leer </td></tr>
    <tr><td class="paramname">1</td><td>- FIFO ist leer </td></tr>
    <tr><td class="paramname">negative</td><td>- Fehler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Code-Beispiel :</dt><dd><pre class="fragment">CosFifo_t q01;

void Task_A(CosTask_t *pt)
{
    COS_TASK_BEGIN(pt);
    ...
    if(!COS_FifoIsEmpty(&amp;q01))
    {  // FIFO ist nicht leer
       ...
    }
    ...
    COS_TASK_END(pt);
}</pre> </dd></dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00224">224</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a32d1294243fbdfd93019a347b4eda8f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cos__types_8h.html#a9702e5ca80edeea90fa9b8fae49f05ce">int8_t</a> COS_FifoIsFull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cos_fifo__t.html">CosFifo_t</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Beschreibung:</dt><dd>Diese Funktion prueft, ob ein FIFO voll ist.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="cos__data__fifo_8c.html#ad5969aabeddbc265e28d3eb7437190b8">COS_FifoIsEmpty()</a></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- IN/OUT, Zeiger auf FIFO Struktur</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- FIFO ist nicht voll </td></tr>
    <tr><td class="paramname">1</td><td>- FIFO ist voll </td></tr>
    <tr><td class="paramname">negative</td><td>- Fehler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Code-Beispiel :</dt><dd><pre class="fragment">CosFifo_t q01;

void Task_A(CosTask_t *pt)
{
    COS_TASK_BEGIN(pt);
    ...
    if(COS_FifoIsFull(&amp;q01))
    {  // FIFO ist voll
       ...
    }
    ...
    COS_TASK_END(pt);
}</pre> </dd></dl>

<p>Definition at line <a class="el" href="cos__data__fifo_8c_source.html#l00273">273</a> of file <a class="el" href="cos__data__fifo_8c_source.html">cos_data_fifo.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
